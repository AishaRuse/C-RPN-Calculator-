<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Generator for RPN Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #333;
        }
        .icon-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }
        .icon-item {
            text-align: center;
        }
        canvas {
            border: 1px solid #ddd;
            background: white;
            border-radius: 8px;
        }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        button:hover {
            background: #5568d3;
        }
        .instructions {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .instructions ol {
            line-height: 1.8;
        }
    </style>
</head>
<body>
    <h1>RPN Calculator - Icon Generator</h1>
    
    <p>Click the buttons below each icon to download them. You'll need all these files for the PWA to work properly on iOS.</p>
    
    <div class="icon-preview" id="iconPreview"></div>
    
    <div class="instructions">
        <h2>Installation Instructions</h2>
        <ol>
            <li><strong>Download all icons</strong> - Click each download button above</li>
            <li><strong>Place files together</strong> - Put all downloaded PNG files in the same folder as:
                <ul>
                    <li><code>rpn-calculator.html</code></li>
                    <li><code>manifest.json</code></li>
                </ul>
            </li>
            <li><strong>Upload to web server</strong> (optional but recommended):
                <ul>
                    <li>Use GitHub Pages, Netlify, or any web host</li>
                    <li>Or just open the HTML file locally in Safari</li>
                </ul>
            </li>
            <li><strong>Add to Home Screen</strong> on iOS/iPadOS:
                <ul>
                    <li>Open <code>rpn-calculator.html</code> in Safari</li>
                    <li>Tap the Share button (square with arrow up)</li>
                    <li>Scroll down and tap "Add to Home Screen"</li>
                    <li>Tap "Add"</li>
                </ul>
            </li>
            <li><strong>Launch</strong> - The calculator will open full-screen like a native app!</li>
        </ol>
        
        <h3>Files You Need:</h3>
        <ul>
            <li>✓ rpn-calculator.html (your main calculator file)</li>
            <li>✓ manifest.json (PWA configuration)</li>
            <li>✓ icon-152.png (for iPad)</li>
            <li>✓ icon-167.png (for iPad Pro)</li>
            <li>✓ icon-180.png (for iPhone)</li>
            <li>✓ icon-192.png (for Android/PWA)</li>
            <li>✓ icon-512.png (for Android/PWA)</li>
        </ul>
        
        <p><strong>Note:</strong> Splash screens are optional. The app will work fine without them, they just make the launch look nicer.</p>
    </div>

    <script>
        const sizes = [
            { size: 152, name: 'icon-152.png', label: '152×152 (iPad)' },
            { size: 167, name: 'icon-167.png', label: '167×167 (iPad Pro)' },
            { size: 180, name: 'icon-180.png', label: '180×180 (iPhone)' },
            { size: 192, name: 'icon-192.png', label: '192×192 (PWA)' },
            { size: 512, name: 'icon-512.png', label: '512×512 (PWA)' }
        ];

        function drawIcon(canvas, size) {
            const ctx = canvas.getContext('2d');
            canvas.width = size;
            canvas.height = size;
            
            // Background gradient
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#667eea');
            gradient.addColorStop(1, '#764ba2');
            
            // Rounded rectangle background
            const radius = size * 0.225; // 22.5% radius for iOS style
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.roundRect(0, 0, size, size, radius);
            ctx.fill();
            
            // Calculator body
            const margin = size * 0.156;
            const bodySize = size - (margin * 2);
            const bodyRadius = size * 0.059;
            ctx.fillStyle = '#2a2a2a';
            ctx.beginPath();
            ctx.roundRect(margin, margin, bodySize, bodySize, bodyRadius);
            ctx.fill();
            
            // Screen
            const screenMargin = size * 0.195;
            const screenWidth = size * 0.609;
            const screenHeight = size * 0.195;
            const screenRadius = size * 0.023;
            
            const screenGradient = ctx.createLinearGradient(0, screenMargin, 0, screenMargin + screenHeight);
            screenGradient.addColorStop(0, '#2a2a2a');
            screenGradient.addColorStop(1, '#1a1a1a');
            
            ctx.fillStyle = screenGradient;
            ctx.beginPath();
            ctx.roundRect(screenMargin, screenMargin, screenWidth, screenHeight, screenRadius);
            ctx.fill();
            
            // Display text "RPN"
            ctx.fillStyle = '#00ff00';
            ctx.font = `bold ${size * 0.094}px 'Courier New', monospace`;
            ctx.textAlign = 'right';
            ctx.textBaseline = 'middle';
            ctx.fillText('RPN', screenMargin + screenWidth - size * 0.039, screenMargin + screenHeight / 2);
            
            // Stack indicators
            ctx.strokeStyle = '#888';
            ctx.lineWidth = size * 0.004;
            const lineX = screenMargin + size * 0.02;
            const lineLength = size * 0.059;
            for (let i = 0; i < 4; i++) {
                const y = screenMargin + size * 0.049 + (i * size * 0.039);
                ctx.beginPath();
                ctx.moveTo(lineX, y);
                ctx.lineTo(lineX + lineLength, y);
                ctx.stroke();
            }
            
            // Buttons
            const buttonRadius = size * 0.012;
            const buttonStartY = size * 0.449;
            const buttonHeight = size * 0.078;
            const buttonSpacing = size * 0.137;
            
            // Row 1 - Blue buttons
            ctx.fillStyle = '#2196F3';
            for (let i = 0; i < 4; i++) {
                ctx.beginPath();
                ctx.roundRect(
                    screenMargin + (i * buttonSpacing), 
                    buttonStartY, 
                    size * 0.117, 
                    buttonHeight, 
                    buttonRadius
                );
                ctx.fill();
            }
            
            // Row 2 - Number buttons
            const row2Y = buttonStartY + size * 0.098;
            for (let i = 0; i < 3; i++) {
                ctx.fillStyle = '#555';
                ctx.beginPath();
                ctx.roundRect(
                    screenMargin + (i * buttonSpacing), 
                    row2Y, 
                    size * 0.117, 
                    buttonHeight, 
                    buttonRadius
                );
                ctx.fill();
            }
            
            // Operator button
            ctx.fillStyle = '#ff6b35';
            ctx.beginPath();
            ctx.roundRect(
                screenMargin + (3 * buttonSpacing), 
                row2Y, 
                size * 0.117, 
                buttonHeight, 
                buttonRadius
            );
            ctx.fill();
            
            // Row 3
            const row3Y = row2Y + size * 0.098;
            for (let i = 0; i < 3; i++) {
                ctx.fillStyle = '#555';
                ctx.beginPath();
                ctx.roundRect(
                    screenMargin + (i * buttonSpacing), 
                    row3Y, 
                    size * 0.117, 
                    buttonHeight, 
                    buttonRadius
                );
                ctx.fill();
            }
            
            ctx.fillStyle = '#ff6b35';
            ctx.beginPath();
            ctx.roundRect(
                screenMargin + (3 * buttonSpacing), 
                row3Y, 
                size * 0.117, 
                buttonHeight, 
                buttonRadius
            );
            ctx.fill();
            
            // Row 4 - with Enter key
            const row4Y = row3Y + size * 0.098;
            
            // 0 button (wider)
            ctx.fillStyle = '#555';
            ctx.beginPath();
            ctx.roundRect(
                screenMargin, 
                row4Y, 
                size * 0.195, 
                buttonHeight, 
                buttonRadius
            );
            ctx.fill();
            
            // Decimal button
            ctx.beginPath();
            ctx.roundRect(
                screenMargin + size * 0.215, 
                row4Y, 
                size * 0.117, 
                buttonHeight, 
                buttonRadius
            );
            ctx.fill();
            
            // Enter button (green)
            ctx.fillStyle = '#4CAF50';
            ctx.beginPath();
            ctx.roundRect(
                screenMargin + size * 0.352, 
                row4Y, 
                size * 0.176, 
                buttonHeight, 
                buttonRadius
            );
            ctx.fill();
            
            // Add button labels
            ctx.fillStyle = 'white';
            ctx.textAlign = 'center';
            ctx.font = `bold ${size * 0.031}px Arial`;
            
            ctx.fillText('CLR', screenMargin + size * 0.059, buttonStartY + buttonHeight / 2);
            ctx.font = `bold ${size * 0.039}px Arial`;
            ctx.fillText('7', screenMargin + size * 0.059, row2Y + buttonHeight / 2);
            ctx.fillText('8', screenMargin + size * 0.196, row2Y + buttonHeight / 2);
            ctx.fillText('9', screenMargin + size * 0.333, row2Y + buttonHeight / 2);
            ctx.fillText('÷', screenMargin + size * 0.47, row2Y + buttonHeight / 2);
            
            ctx.font = `bold ${size * 0.027}px Arial`;
            ctx.fillText('ENTER', screenMargin + size * 0.44, row4Y + buttonHeight / 2);
        }

        function downloadCanvas(canvas, filename) {
            canvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                a.click();
                URL.revokeObjectURL(url);
            });
        }

        // Generate all icons
        const preview = document.getElementById('iconPreview');
        sizes.forEach(({ size, name, label }) => {
            const container = document.createElement('div');
            container.className = 'icon-item';
            
            const canvas = document.createElement('canvas');
            drawIcon(canvas, size);
            
            const labelEl = document.createElement('p');
            labelEl.textContent = label;
            
            const downloadBtn = document.createElement('button');
            downloadBtn.textContent = `Download ${name}`;
            downloadBtn.onclick = () => downloadCanvas(canvas, name);
            
            container.appendChild(canvas);
            container.appendChild(labelEl);
            container.appendChild(downloadBtn);
            preview.appendChild(container);
        });
    </script>
</body>
</html>
